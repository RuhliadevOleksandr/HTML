CREATE DATABASE PhotoArchive DEFAULT CHARACTER SET UTF8;
USE PhotoArchive;

CREATE TABLE Photographer (
	PhotographerID SMALLINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
 	FullName VARCHAR(50) NOT NULL,
 	DateOfBirth DATE NOT NULL
 	) ENGINE = INNODB;

CREATE TABLE PhotoStudio (
 	PhotoStudioID SMALLINT UNSIGNED AUTO_INCREMENT PRIMARY KEY, 
 	StudioName VARCHAR(20) NOT NULL,
 	Adress VARCHAR(50) NOT NULL
 	) ENGINE = INNODB;
 
CREATE TABLE PhotoStorage (
 	StorageID SMALLINT UNSIGNED AUTO_INCREMENT PRIMARY KEY, 
 	StorageName VARCHAR(20) NOT NULL,
 	Adress VARCHAR(50) NOT NULL
 	) ENGINE = INNODB;

CREATE TABLE Photo (
 	PhotoID SMALLINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
	PhotoName VARCHAR(20) NOT NULL,
 	Tema VARCHAR(20) NOT NULL,
 	DateOfCreating DATE,
 	Description TEXT,
 	PhotoStudioID SMALLINT UNSIGNED,
 	FOREIGN KEY (PhotoStudioID) REFERENCES Photostudio (PhotoStudioID)
 	ON DELETE CASCADE ON UPDATE CASCADE,
 	PhotographerID SMALLINT UNSIGNED,
 	FOREIGN KEY (PhotographerID) REFERENCES Photographer (PhotographerID)
 	ON DELETE CASCADE ON UPDATE CASCADE,
 	StorageID SMALLINT UNSIGNED NOT NULL,
 	FOREIGN KEY (StorageID) REFERENCES PhotoStorage (StorageID)
 	ON DELETE CASCADE ON UPDATE CASCADE
 	) ENGINE = INNODB;